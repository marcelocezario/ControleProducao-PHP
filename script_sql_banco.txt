/************* template da pagina *************\

<!DOCTYPE html>
<body>
    <?php    
        include_once("default/navbar.php");
    ?>
    <main role="main" class="container">
    </main>
    <?php    
        include_once("default/footer.php");
    ?>
</body>
</html>

/************* Dados do Servidor *************\

define("DSN","mysql");
define("SERVIDOR","localhost");
define("USUARIO","root");
define("SENHA","");
define("BANCODEDADOS","ecommerce");


/************* Cliente *************\

CREATE TABLE cliente (

id INTEGER NOT NULL PRIMARY KEY AUTO_INCREMENT,
nome varchar(80),
apelido varchar(80),
dtNascimento varchar(11),
cpf varchar(17),
telefone varchar(15),
cep varchar(10),
logradouro varchar(80),
numero varchar(6),
complemento varchar(80),
bairro varchar(80),
cidade varchar (80),
id_estado int,
email varchar(80),
senha varchar(20),
ativo boolean,
acesso decimal(1)
);

/************* Categoria *************\
create table categoria(

id int not null PRIMARY KEY AUTO_INCREMENT,
nomeCategoria varchar(80),
descricao varchar(150)

);

/************* Marca *************\
create table marca(

id int not null PRIMARY KEY AUTO_INCREMENT,
nomeMarca varchar(80),
fornecedor varchar(150)

);

/************* Produto *************\
create table produto(

id int not null PRIMARY KEY AUTO_INCREMENT,
idCategoria INTEGER,
nomeProduto varchar(80),
qtde decimal(10,2),
descricao varchar(200), 
url varchar(200),
valor decimal(10,2),
ativo boolean,
FOREIGN KEY (idCategoria) REFERENCES categoria (id)
 
);


/************* Formas de Pagamento *************\
create table formaPagamento(

id int not null PRIMARY KEY AUTO_INCREMENT,
formaPagamento varchar (80),
nrParcelas integer,
txJurosParcelamento decimal(10,2)

);

/************* Venda *************\
create table venda(
id int not null PRIMARY KEY AUTO_INCREMENT,
data date,
idCliente integer,
idFormaPagamento integer,
enderecoEntrega varchar(300),
nomeCliente varchar (80),
valorFrete decimal(10,2),
valorTotal decimal(10,2),
nrParcelas integer,
valorParcela decimal (10,2),
FOREIGN KEY (idCliente) REFERENCES cliente (id),
FOREIGN KEY (idFormaPagamento) REFERENCES formapagamento (id)
);


/************* Item Venda *************\
create table itemVenda(	

id int not null PRIMARY KEY AUTO_INCREMENT,
idProduto INTEGER,
idVenda INTEGER,
nomeProduto varchar (80),
valorProduto decimal(10,2),
qtde INTEGER,
valorTotal decimal(10,2),
foreign key (idProduto) references produto (id),
foreign key (idVenda) references venda (id)
);


/************* Estado *************\

CREATE TABLE estado (

id INTEGER NOT NULL PRIMARY KEY AUTO_INCREMENT,
sigla VARCHAR(2) NOT NULL,
descricao VARCHAR(30) NOT NULL

);
 
INSERT INTO estado (`sigla`, `descricao`) VALUES ('AC', 'Acre');
INSERT INTO estado (`sigla`, `descricao`) VALUES ('AL', 'Alagoas');
INSERT INTO estado (`sigla`, `descricao`) VALUES ('AP', 'Amapá');
INSERT INTO estado (`sigla`, `descricao`) VALUES ('AM', 'Amazonas');
INSERT INTO estado (`sigla`, `descricao`) VALUES ('BA', 'Bahia');
INSERT INTO estado (`sigla`, `descricao`) VALUES ('CE', 'Ceará');
INSERT INTO estado (`sigla`, `descricao`) VALUES ('DF', 'Distrito Federal');
INSERT INTO estado (`sigla`, `descricao`) VALUES ('ES', 'Espírito Santo');
INSERT INTO estado (`sigla`, `descricao`) VALUES ('GO', 'Goiás');
INSERT INTO estado (`sigla`, `descricao`) VALUES ('MA', 'Maranhão');
INSERT INTO estado (`sigla`, `descricao`) VALUES ('MT', 'Mato Grosso');
INSERT INTO estado (`sigla`, `descricao`) VALUES ('MS', 'Mato Grosso do Sul');
INSERT INTO estado (`sigla`, `descricao`) VALUES ('MG', 'Minas Gerais');
INSERT INTO estado (`sigla`, `descricao`) VALUES ('PA', 'Pará');
INSERT INTO estado (`sigla`, `descricao`) VALUES ('PB', 'Paraíba');
INSERT INTO estado (`sigla`, `descricao`) VALUES ('PR', 'Paraná');
INSERT INTO estado (`sigla`, `descricao`) VALUES ('PE', 'Pernambuco');
INSERT INTO estado (`sigla`, `descricao`) VALUES ('PI', 'Piauí');
INSERT INTO estado (`sigla`, `descricao`) VALUES ('RJ', 'Rio de Janeiro');
INSERT INTO estado (`sigla`, `descricao`) VALUES ('RN', 'Rio Grande do Norte');
INSERT INTO estado (`sigla`, `descricao`) VALUES ('RS', 'Rio Grande do Sul');
INSERT INTO estado (`sigla`, `descricao`) VALUES ('RO', 'Rondônia');
INSERT INTO estado (`sigla`, `descricao`) VALUES ('RR', 'Roraima');
INSERT INTO estado (`sigla`, `descricao`) VALUES ('SC', 'Santa Catarina');
INSERT INTO estado (`sigla`, `descricao`) VALUES ('SP', 'São Paulo');
INSERT INTO estado (`sigla`, `descricao`) VALUES ('SE', 'Sergipe');
INSERT INTO estado (`sigla`, `descricao`) VALUES ('TO', 'Tocantins');

/******************** Corigir UTF8 ******************/
add na my.ini

[client]
default-character-set=utf8

[mysql]
default-character-set=utf8

[mysqld]
collation-server = utf8_unicode_ci
init-connect='SET NAMES utf8'
character-set-server = utf8

